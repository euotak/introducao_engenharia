<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fluxograma Curricular - Engenharia de Controle e Automa√ß√£o</title>
  <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #f0f7fa 0%, #e0e8eb 100%);
      color: #122028;
      line-height: 1.6;
      padding: 20px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 1600px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    
    header {
      background: linear-gradient(135deg, #106d78 0%, #0a4950 100%);
      color: white;
      padding: 25px;
      text-align: center;
    }
    
    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 26px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    
    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    
    .subtitle {
      font-size: 18px;
      opacity: 0.9;
    }
    
    .content {
      padding: 30px;
    }
    
    .controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 25px;
    }
    
    .controls button {
      padding: 12px 20px;
      background: #106d78;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
    }
    
    .controls button:hover {
      background: #0a4950;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    #flowchart {
      width: 100%;
      height: 2000px;
      background: #f9fbfc;
      border-radius: 12px;
      margin-bottom: 30px;
      overflow: hidden;
      border: 1px solid #e0e8eb;
    }
    
    .semester-title {
      position: absolute;
      font-size: 18px;
      font-weight: bold;
      color: #106d78;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px 15px;
      border-radius: 5px;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .legend {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 30px 0;
      padding: 20px;
      background: #f9fbfc;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e0e8eb;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }
    
    .theoretical { background-color: #4DB3E6; }
    .practical { background-color: #9ECE7F; }
    .mixed { background-color: #FF9D6F; }
    
    .tooltip {
      position: absolute;
      padding: 10px;
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid #106d78;
      border-radius: 5px;
      pointer-events: none;
      font-size: 14px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      z-index: 1000;
    }
    
    footer {
      text-align: center;
      padding: 25px;
      background: #0a4950;
      color: white;
    }
    
    @media (max-width: 768px) {
      .controls {
        flex-direction: column;
        align-items: center;
      }
      
      .controls button {
        width: 100%;
        max-width: 300px;
      }
      
      #flowchart {
        height: 1200px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <span>üéì Engenharia de Controle e Automa√ß√£o</span>
      </div>
      <h1>Fluxograma Curricular</h1>
      <p class="subtitle">1¬∫ ao 10¬∫ Semestres</p>
    </header>

    <div class="content">
      <div class="controls">
        <button onclick="cy.zoom(cy.zoom() * 1.2)">üîç Ampliar Visualiza√ß√£o</button>
        <button onclick="cy.zoom(cy.zoom() * 0.8)">üîç Reduzir Visualiza√ß√£o</button>
        <button onclick="cy.reset()">üîÑ Redefinir Zoom</button>
      </div>
      
      <div id="flowchart"></div>
      
      <div class="legend">
        <div class="legend-item">
          <div class="legend-color theoretical"></div>
          <span>Disciplinas Te√≥ricas</span>
        </div>
        <div class="legend-item">
          <div class="legend-color practical"></div>
          <span>Disciplinas Pr√°ticas</span>
        </div>
        <div class="legend-item">
          <div class="legend-color mixed"></div>
          <span>Disciplinas Mistas (Te√≥ricas + Pr√°ticas)</span>
        </div>
      </div>
    </div>
    
    <footer>
      <p>¬© 2023 Engenharia de Controle e Automa√ß√£o - IFG</p>
    </footer>
  </div>

  <script>
    // Cores para os tipos de disciplinas
    const colorMap = {
      theoretical: "#4DB3E6",
      practical: "#9ECE7F",
      mixed: "#FF9D6F"
    };

    // Dados de todas as disciplinas dos 10 semestres
    const disciplinas = [
      // 1¬∫ Semestre
      { 
        id: "intro-eng", 
        name: "Int. √† Eng. de Controle e Automa√ß√£o", 
        semester: 1, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/1_semestre/introducao_engenharia.html"
      },
      { 
        id: "desenho-basico", 
        name: "Desenho B√°sico", 
        semester: 1, 
        horas: { total: 72, praticas: 72, teoricas: 0 },
        type: "practical",
        url: "materia/1_semestre/desenho_basico.html"
      },
      { 
        id: "lingua-portuguesa", 
        name: "L√≠ngua Portuguesa", 
        semester: 1, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/1_semestre/Lingua_Portuguesa.html"
      },
      { 
        id: "intro-comp", 
        name: "Int. aos Sistemas Computacionais", 
        semester: 1, 
        horas: { total: 72, praticas: 18, teoricas: 54 },
        type: "mixed",
        url: "materia/1_semestre/introducao_computacao.html"
      },
      { 
        id: "calculo-1", 
        name: "C√°lculo Dif. e Integral I", 
        semester: 1, 
        horas: { total: 108, praticas: 0, teoricas: 108 },
        type: "theoretical",
        url: "materia/1_semestre/calculo1.html"
      },
      { 
        id: "geometria", 
        name: "Geometria Anal√≠tica", 
        semester: 1, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/1_semestre/Geometria_Analitica.html"
      },
      { 
        id: "quimica", 
        name: "Qu√≠mica Geral", 
        semester: 1, 
        horas: { total: 72, praticas: 18, teoricas: 54 },
        type: "mixed",
        url: "materia/1_semestre/quimica.html"
      },
      
      // 2¬∫ Semestre
      { 
        id: "desenho-tecnico", 
        name: "Des. T√©cnico Assistido por Computador", 
        semester: 2, 
        horas: { total: 72, praticas: 72, teoricas: 0 },
        type: "practical",
        url: "materia/2_semestre/Desenho-t√©cnico_Assistido_por_Computador.html"
      },
      { 
        id: "estrutura-dados", 
        name: "Estrutura de Dados", 
        semester: 2, 
        horas: { total: 72, praticas: 18, teoricas: 54 },
        type: "mixed",
        url: "materia/2_semestre/Estrutura_de_Dados.html"
      },
      { 
        id: "algebra", 
        name: "√Ålgebra Linear", 
        semester: 2, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/2_semestre/algebra_Linear.html"
      },
      { 
        id: "calculo-2", 
        name: "C√°lculo Dif. e Integral II", 
        semester: 2, 
        horas: { total: 108, praticas: 0, teoricas: 108 },
        type: "theoretical",
        url: "materia/2_semestre/calculo2.html"
      },
      { 
        id: "mecanica", 
        name: "Mec√¢nica", 
        semester: 2, 
        horas: { total: 108, praticas: 26, teoricas: 82 },
        type: "mixed",
        url: "materia/2_semestre/fisica1.html"
      },
      { 
        id: "sistemas-digitais", 
        name: "Sistemas Digitais", 
        semester: 2, 
        horas: { total: 72, praticas: 18, teoricas: 54 },
        type: "mixed",
        url: "materia/2_semestre/Sistemas_Digitais.html"
      },
      
      // 3¬∫ Semestre
      { 
        id: "sistemas-microprocessados", 
        name: "Sistemas Microprocessados", 
        semester: 3, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/3_semestre/Sistemas_Microprocessados.html"
      },
      { 
        id: "equacoes-diferenciais", 
        name: "Equa√ß√µes Diferenciais", 
        semester: 3, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/3_semestre/equacao_diferencial.html"
      },
      { 
        id: "eletricidade-magnetismo", 
        name: "Eletricidade e Magnetismo", 
        semester: 3, 
        horas: { total: 108, praticas: 36, teoricas: 72 },
        type: "mixed",
        url: "materia/3_semestre/fisica3.html"
      },
      { 
        id: "estatistica-probabilidade", 
        name: "Estat√≠stica e Probabilidade", 
        semester: 3, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/3_semestre/Estatistica_e_Probabilidade.html"
      },
      { 
        id: "metodologia-cientifica", 
        name: "Metodologia Cient√≠fica", 
        semester: 3, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/3_semestre/Metodologia_Cientifica.html"
      },
      { 
        id: "calculo-iii", 
        name: "C√°lculo III", 
        semester: 3, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/3_semestre/calculo3.html"
      },
      { 
        id: "desenvolvimento-sistemas-i", 
        name: "Desenv. de Sistemas Comput. I", 
        semester: 3, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/3_semestre/programacao_orientada_objeto.html"
      },
      
      // 4¬∫ Semestre
      { 
        id: "circuitos-eletricos-i", 
        name: "Circuitos El√©tricos I", 
        semester: 4, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/4_semestre/circuitos_eletricos1.html"
      },
      { 
        id: "sistemas-lineares", 
        name: "Sistemas Lineares", 
        semester: 4, 
        horas: { total: 108, praticas: 36, teoricas: 72 },
        type: "mixed",
        url: "materia/4_semestre/Sistemas_Lineares.html"
      },
      { 
        id: "calculo-numerico", 
        name: "C√°lculo Num√©rico", 
        semester: 4, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/4_semestre/calculo_numerico.html"
      },
      { 
        id: "ondas-optica-termodinamica", 
        name: "Ondas, √ìtica e Termodin√¢mica", 
        semester: 4, 
        horas: { total: 108, praticas: 36, teoricas: 72 },
        type: "mixed",
        url: "materia/4_semestre/fisica2.html"
      },
      { 
        id: "variaveis-complexas", 
        name: "Vari√°veis Complexas", 
        semester: 4, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/4_semestre/Variaveis_Complexas.html"
      },
      { 
        id: "desenvolvimento-sistemas-ii", 
        name: "Desenv. de Sistemas Comput. II", 
        semester: 4, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/4_semestre/bancoDeDados.html"
      },
      
      // 5¬∫ Semestre
      { 
        id: "eletromagnetismo", 
        name: "Eletromagnetismo", 
        semester: 5, 
        horas: { total: 72, praticas: 0, teoricas: 72 },
        type: "theoretical",
        url: "materia/5_semestre/eletromagnetismo.html"
      },
      { 
        id: "eletronica-analogica", 
        name: "Eletr√¥nica Anal√≥gica", 
        semester: 5, 
        horas: { total: 108, praticas: 36, teoricas: 72 },
        type: "mixed",
        url: "materia/5_semestre/eletronica_analogica.html"
      },
      { 
        id: "processos-engenharia", 
        name: "Processos em Engenharia", 
        semester: 5, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/5_semestre/processos_em_engenharia.html"
      },
      { 
        id: "circuitos-eletricos-ii", 
        name: "Circuitos El√©tricos II", 
        semester: 5, 
        horas: { total: 108, praticas: 36, teoricas: 72 },
        type: "mixed",
        url: "materia/5_semestre/circuitos_eletricos_ii.html"
      },
      { 
        id: "mecanica-solidos", 
        name: "Mec√¢nica dos S√≥lidos", 
        semester: 5, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/5_semestre/mecanica_dos_solidos.html"
      },
      { 
        id: "sistemas-controle-i", 
        name: "Sistemas de Controle I", 
        semester: 5, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/5_semestre/sistemas_de_controle_i.html"
      },
      
      // 6¬∫ Semestre
      { 
        id: "eletronica-industrial", 
        name: "Eletr√¥nica Industrial", 
        semester: 6, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/6_semestre/eletronica_industrial.html"
      },
      { 
        id: "sistemas-controle-ii", 
        name: "Sistema de Controle II", 
        semester: 6, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/6_semestre/sistemas_de_controle_ii.html"
      },
      { 
        id: "instrumentacao-industrial-i", 
        name: "Instrumenta√ß√£o Industrial I", 
        semester: 6, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/6_semestre/instrumentacao_industrial_i.html"
      },
      { 
        id: "maquinas-eletricas", 
        name: "M√°quinas El√©tricas", 
        semester: 6, 
        horas: { total: 108, praticas: 36, teoricas: 72 },
        type: "mixed",
        url: "materia/6_semestre/maquinas_eletricas.html"
      },
      { 
        id: "inteligencia-artificial", 
        name: "Intelig√™ncia Artificial", 
        semester: 6, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/6_semestre/inteligencia_artificial.html"
      },
      { 
        id: "processamento-digital-sinais", 
        name: "Processamento Digital de Sinais", 
        semester: 6, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/6_semestre/processamento_digital_de_sinais.html"
      },
      
      // 7¬∫ Semestre
      { 
        id: "sistemas-nao-lineares", 
        name: "Sistemas N√£o Lineares", 
        semester: 7, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/7_semestre/sistemas_nao_lineares.html"
      },
      { 
        id: "redes-industriais", 
        name: "Redes Industriais", 
        semester: 7, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/7_semestre/redes_industriais.html"
      },
      { 
        id: "instalacoes-eletricas", 
        name: "Inst. El√©tricas e L√≥gicas p/ Automa√ß√£o", 
        semester: 7, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/7_semestre/instalacoes_eletricas_e_logicas_para_automacao.html"
      },
      { 
        id: "administracao", 
        name: "Administra√ß√£o", 
        semester: 7, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/7_semestre/introducao_a_administracao.html"
      },
      { 
        id: "acionamentos-eletricos", 
        name: "Acionamentos El√©tricos", 
        semester: 7, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/7_semestre/acionamentos_eletricos.html"
      },
      { 
        id: "instrumentacao-industrial-ii", 
        name: "Instrumenta√ß√£o Industrial II", 
        semester: 7, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/7_semestre/instrumentacao_industrial_ii.html"
      },
      { 
        id: "fenomenos-transporte", 
        name: "Fen√¥menos de Transporte", 
        semester: 7, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/7_semestre/fenomenos_de_transporte.html"
      },
      
      // 8¬∫ Semestre
      { 
        id: "acionamentos-hidraulicos-pneumaticos", 
        name: "Acion. Hidr√°ulicos e Pneum√°ticos", 
        semester: 8, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/8_semestre/Acionamentos_Hidr√°ulicos_e_Pneum√°ticos.html"
      },
      { 
        id: "sociologia-trabalho", 
        name: "Sociologia do Trabalho, Tecn. e Cultura", 
        semester: 8, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/8_semestre/sociologia_do_trabalho_tecnologia_e_cultura.html"
      },
      { 
        id: "automacao-supervisao-i", 
        name: "Automa√ß√£o e Supervis√£o de Processos I", 
        semester: 8, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/8_semestre/Automa√ß√£o_e_Supervis√£o_de_Processos1.html"
      },
      { 
        id: "manufatura-integrada", 
        name: "Manufatura Integrada por Computador", 
        semester: 8, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/8_semestre/manufatura_integrada_por_computador.html"
      },
      { 
        id: "planejamento-processos", 
        name: "Planejamento de Processos Industriais", 
        semester: 8, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/8_semestre/planejamento_de_processos_industriais.html"
      },
      { 
        id: "empreendedorismo", 
        name: "Empreend. e Planej. Profissional", 
        semester: 8, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/8_semestre/empreendedorismo_e_planejamento_profissional.html"
      },
      
      // 9¬∫ Semestre
      { 
        id: "projeto-final-i", 
        name: "Projeto Final de Curso I", 
        semester: 9, 
        horas: { total: 72, praticas: 72, teoricas: 0 },
        type: "practical",
        url: "materia/9_semestre/trabalho_de_conclusao_de_curso_i.html"
      },
      { 
        id: "sistemas-eventos-discretos", 
        name: "Sistemas a Eventos Discretos", 
        semester: 9, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/9_semestre/sistemas_a_eventos_discretos.html"
      },
      { 
        id: "automacao-supervisao-ii", 
        name: "Automa√ß√£o e Supervis√£o de Processos II", 
        semester: 9, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/9_semestre/automacao_e_supervisao_de_processos_ii.html"
      },
      { 
        id: "controle-digital", 
        name: "Sistemas de Controle Digital", 
        semester: 9, 
        horas: { total: 72, praticas: 36, teoricas: 36 },
        type: "mixed",
        url: "materia/9_semestre/sistemas_de_controle_digital.html"
      },
      { 
        id: "economia", 
        name: "Economia", 
        semester: 9, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/9_semestre/introducao_a_economia.html"
      },
      
      // 10¬∫ Semestre
      { 
        id: "projeto-final-ii", 
        name: "Projeto Final de Curso II", 
        semester: 10, 
        horas: { total: 72, praticas: 72, teoricas: 0 },
        type: "practical",
        url: "materia/10_semestre/trabalho_de_conclusao_de_curso_ii.html"
      },
      { 
        id: "gestao-ambiental", 
        name: "Gest√£o Ambiental", 
        semester: 10, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/10_semestre/gestao_ambiental.html"
      },
      { 
        id: "legislacao-etica", 
        name: "Legisla√ß√£o e √âtica", 
        semester: 10, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/10_semestre/legislacao_e_etica.html"
      },
      { 
        id: "engenharia-economica", 
        name: "Eng. Econ√¥mica", 
        semester: 10, 
        horas: { total: 36, praticas: 0, teoricas: 36 },
        type: "theoretical",
        url: "materia/10_semestre/engenharia_economica.html"
      }
    ];

    // Pr√©-requisitos entre todas as disciplinas
    const preRequisitos = [
      // Pr√©-requisitos 1¬∫-2¬∫ semestre
      { source: "desenho-basico", target: "desenho-tecnico" },
      { source: "calculo-1", target: "calculo-2" },
      { source: "intro-comp", target: "estrutura-dados" },
      { source: "geometria", target: "algebra" },
      
      // Pr√©-requisitos 2¬∫-3¬∫ semestre
      { source: "calculo-2", target: "calculo-iii" },
      { source: "mecanica", target: "eletricidade-magnetismo" },
      { source: "sistemas-digitais", target: "sistemas-microprocessados" },
      { source: "estrutura-dados", target: "desenvolvimento-sistemas-i" },
      
      // Pr√©-requisitos 3¬∫-4¬∫ semestre
      { source: "calculo-iii", target: "sistemas-lineares" },
      { source: "eletricidade-magnetismo", target: "circuitos-eletricos-i" },
      { source: "desenvolvimento-sistemas-i", target: "desenvolvimento-sistemas-ii" },
      { source: "equacoes-diferenciais", target: "variaveis-complexas" },
      
      // Pr√©-requisitos 4¬∫-5¬∫ semestre
      { source: "circuitos-eletricos-i", target: "circuitos-eletricos-ii" },
      { source: "sistemas-lineares", target: "sistemas-controle-i" },
      { source: "calculo-numerico", target: "processos-engenharia" },
      
      // Pr√©-requisitos 5¬∫-6¬∫ semestre
      { source: "sistemas-controle-i", target: "sistemas-controle-ii" },
      { source: "eletronica-analogica", target: "eletronica-industrial" },
      { source: "circuitos-eletricos-ii", target: "maquinas-eletricas" },
      
      // Pr√©-requisitos 6¬∫-7¬∫ semestre
      { source: "instrumentacao-industrial-i", target: "instrumentacao-industrial-ii" },
      { source: "maquinas-eletricas", target: "acionamentos-eletricos" },
      { source: "processos-engenharia", target: "fenomenos-transporte" },
      
      // Pr√©-requisitos 7¬∫-8¬∫ semestre
      { source: "acionamentos-eletricos", target: "acionamentos-hidraulicos-pneumaticos" },
      { source: "redes-industriais", target: "automacao-supervisao-i" },
      { source: "processamento-digital-sinais", target: "controle-digital" },
      
      // Pr√©-requisitos 8¬∫-9¬∫ semestre
      { source: "automacao-supervisao-i", target: "automacao-supervisao-ii" },
      { source: "manufatura-integrada", target: "sistemas-eventos-discretos" },
      { source: "administracao", target: "economia" },
      
      // Pr√©-requisitos 9¬∫-10¬∫ semestre
      { source: "projeto-final-i", target: "projeto-final-ii" },
      { source: "economia", target: "engenharia-economica" },
      { source: "administracao", target: "gestao-ambiental" }
    ];

    // Preparar elementos para o Cytoscape
    const elements = [];
    
    // Adicionar n√≥s (disciplinas)
    disciplinas.forEach(disc => {
      elements.push({
        data: {
          id: disc.id,
          name: disc.name,
          horas: disc.horas,
          type: disc.type,
          semester: disc.semester,
          url: disc.url // Adicionando a URL
        }
      });
    });
    
    // Adicionar arestas (pr√©-requisitos)
    preRequisitos.forEach(req => {
      elements.push({
        data: {
          source: req.source,
          target: req.target
        }
      });
    });

    // Inicializar Cytoscape
    const cy = cytoscape({
      container: document.getElementById('flowchart'),
      elements: elements,
      style: [
        {
          selector: 'node',
          style: {
            'label': 'data(name)',
            'text-valign': 'center',
            'text-halign': 'center',
            'text-max-width': '120px',
            'text-wrap': 'wrap',
            'background-color': function(ele) {
              return colorMap[ele.data('type')];
            },
            'color': '#122028',
            'width': 150,
            'height': 60,
            'border-width': 2,
            'border-color': '#106d78',
            'font-size': '12px',
            'font-weight': '500',
            'cursor': 'pointer' // Adiciona cursor de pointer para indicar que √© clic√°vel
          }
        },
        {
          selector: 'edge',
          style: {
            'width': 2,
            'line-color': '#106d78',
            'target-arrow-color': '#106d78',
            'target-arrow-shape': 'triangle',
            'curve-style': 'bezier',
            'arrow-scale': 1.5
          }
        }
      ],
      layout: {
        name: 'grid',
        rows: 10, // Dez semestres (linhas)
        cols: 7, // N√∫mero m√°ximo de disciplinas por semestre
        position: function(node) {
          const data = node.data();
          const semester = data.semester;
          const semesterNodes = disciplinas.filter(d => d.semester === semester);
          const index = semesterNodes.findIndex(d => d.id === data.id);
          
          return {
            row: semester - 1, // Semestre 1 na linha 0, semestre 2 na linha 1, etc.
            col: index
          };
        },
        padding: 100,
        avoidOverlap: true,
        avoidOverlapPadding: 20,
        condense: true
      },
      minZoom: 0.2,
      maxZoom: 2.0,
      wheelSensitivity: 0.2
    });

    // Adicionar t√≠tulos dos semestres
    const flowchartDiv = document.getElementById('flowchart');
    
    const semesters = [
      { number: 1, top: '100px' },
      { number: 2, top: '300px' },
      { number: 3, top: '500px' },
      { number: 4, top: '700px' },
      { number: 5, top: '900px' },
      { number: 6, top: '1100px' },
      { number: 7, top: '1300px' },
      { number: 8, top: '1500px' },
      { number: 9, top: '1700px' },
      { number: 10, top: '1900px' }
    ];
    
    semesters.forEach(sem => {
      const title = document.createElement('div');
      title.className = 'semester-title';
      title.textContent = `${sem.number}¬∫ Semestre`;
      title.style.left = '50px';
      title.style.top = sem.top;
      flowchartDiv.appendChild(title);
    });

    // Ferramenta de dica
    const tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    tooltip.style.opacity = 0;
    document.body.appendChild(tooltip);

    // Eventos para a tooltip
    cy.on('mouseover', 'node', function(evt){
      const node = evt.target;
      const data = node.data();
      
      tooltip.innerHTML = `
        <strong>${data.name}</strong><br/>
        Total: ${data.horas.total}h<br/>
        Pr√°ticas: ${data.horas.praticas}h<br/>
        Te√≥ricas: ${data.horas.teoricas}h
      `;
      
      tooltip.style.opacity = 0.9;
      tooltip.style.left = (evt.originalEvent.pageX + 10) + 'px';
      tooltip.style.top = (evt.originalEvent.pageY - 28) + 'px';
    });

    cy.on('mouseout', 'node', function(){
      tooltip.style.opacity = 0;
    });

    // Evento de clique para redirecionar para a p√°gina da disciplina
    cy.on('tap', 'node', function(evt){
      const node = evt.target;
      const data = node.data();
      if (data.url) {
        window.open(data.url, '_blank'); // Abre em uma nova aba
      }
    });

    // Ajustar o layout ao redimensionar a janela
    window.addEventListener('resize', function() {
      cy.fit();
    });

    // Inicializar
    cy.fit();
    
    // Adicionar m√©todo reset ao objeto cy
    cy.reset = function() {
      cy.fit();
      cy.zoom(1);
      cy.center();
    };
  </script>
</body>
</html>